window.gg=window.gg||{};window.gg.config={width:720,height:1280,showType:0,clientWidth:document.documentElement.clientWidth,clientHeight:document.documentElement.clientHeight,appid:"wx642bfac3d22ca908",shareUrl:"http://case.h5tu.com/Common/weixin/share/wxShare.php",share_title:"我邀请你成为非物质遗产皮影代言人",share_desc:"华县皮影，精美绝伦，弘扬中国传统文化，需要你我他！",share_link:window.location.href.split("?")[0].split("#")[0]+"?v="+cardNum,share_imgUrl:window.location.href.split("?")[0].split("index.html")[0]+"/img/share.png",};(function(){window.gg=window.gg||{};gg.util={extend:function(){var f=Array.prototype.slice.call(arguments);var k=false;var a=f.length;if(typeof f[a-1]==="boolean"){k=f[a-1];a--}var c={};for(var d=0;d<a;d++){for(var g in f[d]){var h=f[d][g];if(k&&typeof h==="object"){if(h instanceof Array){var e=[];for(var b=0;b<h.length;b++){if(typeof h[b]==="object"){e.push(gg.extend(h[b],true))}else{e.push(h[b])}}h=e}else{h=gg.extend(h,true)}}c[g]=h}}return c},copy:function(a){return JSON.parse(JSON.stringify(a))},create:function(c){if(typeof c==="function"){var b=Array.prototype.slice.call(arguments);function a(){c.apply(this,b)}var d=function(){};d.prototype=c.prototype;a.prototype=new d();a.prototype.constructor=a;return a}else{return function(){}}},ajax:function(b){var a=this.extend({type:"GET",async:false,dataType:"string"},b);var c=new XMLHttpRequest();c.open(a.type.toUpperCase(),a.url,a.async);c.onreadystatechange=function(d){if(c.readyState==4){if(c.status>=400){a.error(d)}else{a.success(a.dataType.toUpperCase()==="JSON"?JSON.parse(d.currentTarget.responseText):d.currentTarget.responseText)}}};c.send()},setCache:function(a,c,b){if(typeof c==="object"){c=JSON.stringify(c)}switch(b){case"sessionStorage":sessionStorage.setItem(a,c);break;case"localStorage":localStorage.setItem(a,c);break;default:sessionStorage.setItem(a,c)}},getCache:function(a){var b=sessionStorage.getItem(a)||localStorage.getItem(a);try{return JSON.parse(b)}catch(c){return b}},clearCache:function(){sessionStorage.clear();localStorage.clear()},pageScroll:function(){var a=setInterval(function(){window.scrollBy(0,-50);if(document.documentElement.scrollTop==0&&document.body.scrollTop==0){clearInterval(a)}},20)},getUrlParam:function(){var e={};var d=location.search.split("#")[0].split("?")[1];if(d){var f=d.split("&");for(var c=0,b=f.length;c<b;c++){var a=f[c].split("=");e[a[0]]=a[1]}}return e},formatDate:function(a,b){var c=a.getMonth()+1;c=c<10?("0"+c):c;if(b){return a.getFullYear()+b+c+b+a.getDate()}else{return""+a.getFullYear()+c+a.getDate()}},browserVersion:function(){var a=navigator.userAgent||navigator.appVersion;return{trident:navigator.userAgent.indexOf("Trident")>-1,presto:navigator.userAgent.indexOf("Presto")>-1,webKit:navigator.userAgent.indexOf("AppleWebKit")>-1,gecko:navigator.userAgent.indexOf("Gecko")>-1&&navigator.userAgent.indexOf("KHTML")==-1,mobile:!!navigator.userAgent.match(/AppleWebKit.*Mobile.*/),ios:!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:navigator.userAgent.indexOf("Android")>-1||navigator.userAgent.indexOf("Linux")>-1,iPhone:navigator.userAgent.indexOf("iPhone")>-1||navigator.userAgent.indexOf("Mac")>-1,iPad:navigator.userAgent.indexOf("iPad")>-1,webApp:navigator.userAgent.indexOf("Safari")==-1,wx:navigator.userAgent.toLowerCase().match(/MicroMessenger/i)=="micromessenger"}}(),util:{splitWhite:function(a){return a.match(/\S+/g)||[]}},fullScreen:function(){var a=document.documentElement,b=a.requestFullScreen||a.webkitRequestFullScreen||a.mozRequestFullScreen||a.msRequestFullScreen;if(typeof b!="undefined"&&b){setTimeout(function(){b.call(a)},100)}},exitFullScreen:function(){var b=document,a=b.cancelFullScreen||b.webkitCancelFullScreen||b.mozCancelFullScreen||b.exitFullScreen;if(typeof a!="undefined"&&a){a.call(b)}},audioAutoPlay:function(b){var a=document.getElementById(b);if(a!==null){a.play();document.addEventListener("WeixinJSBridgeReady",function(){a.play()},false)}}}})();(function(h){function p(E){return o(j(B(E),E.length*f))}function m(E){return s(j(B(E),E.length*f))}function g(E){return y(j(B(E),E.length*f))}function d(F,E){return o(k(F,E))}function l(F,E){return s(k(F,E))}function r(F,E){return y(k(F,E))}function a(){return"a9993e364706816aba3e25717850c26c9cd0d89d"==p("abc")}function j(T,S){T[S>>5]|=128<<24-S%32,T[(S+64>>9<<4)+15]=S;for(var R=Array(80),Q=1732584193,P=-271733879,O=-1732584194,N=271733878,M=-1009589776,L=0;L<T.length;L+=16){for(var K=Q,J=P,I=O,H=N,G=M,F=0;80>F;F++){16>F?R[F]=T[L+F]:R[F]=t(R[F-3]^R[F-8]^R[F-14]^R[F-16],1);var E=w(w(t(Q,5),z(F,P,O,N)),w(w(M,R[F]),q(F)));M=N,N=O,O=t(P,30),P=Q,Q=E}Q=w(Q,K),P=w(P,J),O=w(O,I),N=w(N,H),M=w(M,G)}return Array(Q,P,O,N,M)}function z(F,E,H,G){return 20>F?E&H|~E&G:40>F?E^H^G:60>F?E&H|E&G|H&G:E^H^G}function q(E){return 20>E?1518500249:40>E?1859775393:60>E?-1894007588:-899497514}function k(F,E){var K=B(F);K.length>16&&(K=j(K,F.length*f));for(var J=Array(16),I=Array(16),H=0;16>H;H++){J[H]=909522486^K[H],I[H]=1549556828^K[H]}var G=j(J.concat(B(E)),512+E.length*f);
return j(I.concat(G),672)}function w(F,E){var H=(65535&F)+(65535&E),G=(F>>16)+(E>>16)+(H>>16);return G<<16|65535&H}function t(F,E){return F<<E|F>>>32-E}function B(F){for(var E=Array(),H=(1<<f)-1,G=0;G<F.length*f;G+=f){E[G>>5]|=(F.charCodeAt(G/f)&H)<<32-f-G%32}return E}function y(F){for(var E="",H=(1<<f)-1,G=0;G<32*F.length;G+=f){E+=String.fromCharCode(F[G>>5]>>>32-f-G%32&H)}return E}function o(F){for(var E=u?"0123456789ABCDEF":"0123456789abcdef",H="",G=0;G<4*F.length;G++){H+=E.charAt(F[G>>2]>>8*(3-G%4)+4&15)+E.charAt(F[G>>2]>>8*(3-G%4)&15)}return H}function s(F){for(var E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",J="",I=0;I<4*F.length;I+=3){for(var H=(F[I>>2]>>8*(3-I%4)&255)<<16|(F[I+1>>2]>>8*(3-(I+1)%4)&255)<<8|F[I+2>>2]>>8*(3-(I+2)%4)&255,G=0;4>G;G++){J+=8*I+6*G>32*F.length?C:E.charAt(H>>6*(3-G)&63)}}return J}var u=0,C="",f=8,v=function(){this._jsapi_ticket=null,this._nonceStr=null,this._timeStamp=null,this._url=null,this._signature=null};v.prototype.genSign=function(F,E){this._url=E;var H={jsapi_ticket:F,nonceStr:this.createNonceStr(),timestamp:this.createTimeStamp(),url:E},G=this.raw(H);this._signature=p(G)},v.prototype.createNonceStr=function(){return this._nonceStr=Math.random().toString(36).substr(2,15),this._nonceStr},v.prototype.createTimeStamp=function(){return this._timeStamp=parseInt((new Date).getTime()/1000)+"",this._timeStamp},v.prototype.raw=function(F){var E=Object.keys(F);E=E.sort();var I={};E.forEach(function(J){I[J.toLowerCase()]=F[J]});var H="";for(var G in I){H+="&"+G+"="+I[G]}return H=H.substr(1)};var A="./js/jweixin-1.0.0.js",c="./js/qqapi.js";function n(E,I){var H=document;var F=H.head||(H.getElementsByTagName("head")[0]||H.documentElement);var G=H.createElement("script");G.onload=I;G.onerror=function(){};G.async=true;G.src=E[0];F.appendChild(G)}var b=window.gg.config.appid;var e=new v();var D={title:"",desc:"",link:window.location.href,imgUrl:"",type:"",dataUrl:""};var i={isInitComplete:false,init:function(){this.getTicket(this.run)},getTicket:function(E){h.ajax({type:"get",async:false,url:window.gg.config.shareUrl,dataType:"json",complete:function(G){if(G.status==200){var F=G.responseJSON;if(G.responseJSON.code==0){e.genSign(F.msg.ticket,window.location.href);n([A],function(){wx.config({debug:false,appId:b,timestamp:e._timeStamp,nonceStr:e._nonceStr,signature:e._signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareQZone"]});i.isInitComplete=true;E()})}}else{}}})},run:function(){if(i.isInitComplete){wx.ready(function(){wx.onMenuShareTimeline(D);wx.onMenuShareAppMessage(D);wx.onMenuShareQQ(D);wx.error(function(E){})})}else{i.init()}}};var x={isInitComplete:false,init:function(){n([c],function(){x.isInitComplete=true;x.run()})},run:function(){if(x.isInitComplete){var E={title:D.title,desc:D.desc,share_url:D.link,image_url:D.imgUrl};window.mqq.data.setShareInfo(E)}else{x.init()}}};window.shareManage={init:function(F){h.extend(D,F);var G=navigator.userAgent;var E=G.match(/MicroMessenger\/([\d\.]+)/),H=G.match(/QQ\/([\d\.]+)/);E&&i.run();H&&x.run()}}})(jQuery);